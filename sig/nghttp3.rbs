module Nghttp3
  VERSION: String

  # nghttp3 library compile-time constants
  NGHTTP3_VERSION: String
  NGHTTP3_VERSION_NUM: Integer
  NGHTTP3_VERSION_AGE: Integer

  # nghttp3 error code constants
  NGHTTP3_ERR_INVALID_ARGUMENT: Integer
  NGHTTP3_ERR_INVALID_STATE: Integer
  NGHTTP3_ERR_WOULDBLOCK: Integer
  NGHTTP3_ERR_STREAM_IN_USE: Integer
  NGHTTP3_ERR_MALFORMED_HTTP_HEADER: Integer
  NGHTTP3_ERR_MALFORMED_HTTP_MESSAGING: Integer
  NGHTTP3_ERR_QPACK_FATAL: Integer
  NGHTTP3_ERR_QPACK_HEADER_TOO_LARGE: Integer
  NGHTTP3_ERR_STREAM_NOT_FOUND: Integer
  NGHTTP3_ERR_CONN_CLOSING: Integer
  NGHTTP3_ERR_STREAM_DATA_OVERFLOW: Integer
  NGHTTP3_ERR_FATAL: Integer
  NGHTTP3_ERR_NOMEM: Integer
  NGHTTP3_ERR_CALLBACK_FAILURE: Integer

  # NV flag constants
  NV_FLAG_NONE: Integer
  NV_FLAG_NEVER_INDEX: Integer
  NV_FLAG_NO_COPY_NAME: Integer
  NV_FLAG_NO_COPY_VALUE: Integer
  NV_FLAG_TRY_INDEX: Integer

  # HTTP/3 application error code constants
  H3_NO_ERROR: Integer
  H3_GENERAL_PROTOCOL_ERROR: Integer
  H3_INTERNAL_ERROR: Integer
  H3_STREAM_CREATION_ERROR: Integer
  H3_CLOSED_CRITICAL_STREAM: Integer
  H3_FRAME_UNEXPECTED: Integer
  H3_FRAME_ERROR: Integer
  H3_EXCESSIVE_LOAD: Integer
  H3_ID_ERROR: Integer
  H3_SETTINGS_ERROR: Integer
  H3_MISSING_SETTINGS: Integer
  H3_REQUEST_REJECTED: Integer
  H3_REQUEST_CANCELLED: Integer
  H3_REQUEST_INCOMPLETE: Integer
  H3_MESSAGE_ERROR: Integer
  H3_CONNECT_ERROR: Integer
  H3_VERSION_FALLBACK: Integer

  # Returns runtime version info, or nil if least_version requirement not met
  def self.library_version: (?Integer least_version) -> Info?

  # Returns true if the given error code represents a fatal error
  def self.err_is_fatal?: (Integer error_code) -> bool

  # Returns a textual representation of the given error code
  def self.strerror: (Integer error_code) -> String
end
